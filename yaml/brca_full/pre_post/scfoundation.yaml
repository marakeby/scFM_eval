run_id: 
dataset:
    module: data.data_loader
    class: H5ADLoader
    path: mnt/DATA/brca_full/T_cells_only.h5ad #path is relative to DATA_PATH in setup_path.py
    load_raw: False
    label_key: pre_post
    batch_key: donor_id
    layer_name: X  #if data exist in another layer (e.g. adta.layers['counts']). The data will be copied to adata.X
    train_test_split: data_splits/brca_full/brca_pre_post/train_test_split.json #path is relative to BASE_PATH in setup_path.py
    cv_splits: data_splits/brca_full/brca_pre_post/cv_splits.json #path is relative to BASE_PATH in setup_path.py


qc:
    # skip: True
    min_genes: 10
    min_cells: 10

preprocessing:
    # skip: True
    normalize: True
    target_sum: 10000
    apply_log1p: True

hvg:
    batch_key: batch
    n_top_genes: 2048
    flavor: seurat # expect logarithmized data
    
embedding:
    load_cashed: False
    method: scfoundation
    module: features.scf_extractor
    class: scfoundationExtractor
    viz: True
    eval: True
    params: 
        task_name: 'BRCA_cancer_cells'
        input_type: 'singlecell'
        output_type: 'cell'
        pool_type: 'all'
        tgthighres: 't4'
        pre_normalized: 'T'
        demo: False
        version: 'ce'
        model_path: '/home/jupyter/mnt/MODELS/scfoundation/models.ckpt'
        ckpt_name: '01B-resolution'
        gene_index_path: '/home/jupyter/mnt/MODELS/scfoundation//OS_scRNA_gene_index.19264.tsv'
        


classification:
    module: models.classify
    class: ClassifierPipeline
    params:
        model: randomforest
        n_estimators: 100
        max_depth: 5
        train_funcs: 
            - avg
            - mil
            - vote
        cv: True
        label_map:
              Pre: 0
              Post: 1
    viz: True
    eval: True
