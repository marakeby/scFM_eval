run_id: 
dataset:
    module: data.gf_loader
    class: GFLoader
    # path: DATA/brca_full/brca_full_3000cell_4096gene.h5ad #path is relative to DATA_PATH in setup_path.py
    path: DATA/brca_full/T_cells_only.h5ad
    load_raw: False
    label_key: outcome
    batch_key: Cancer_type
    filter: 
      - column: outcome
        values:
          - NE
          - E
      - column: timepoint
        values:
          - Pre
    layer_name: X  #if data exist in another layer (e.g. adta.layers['counts']). The data will be copied to adata.X
    train_test_split: data_splits/brca_full/brca_outcome/train_test_split_oversampled.json #path is relative to BASE_PATH in setup_path.py
    cv_splits: data_splits/brca_full/brca_outcome/cv_splits_oversampled.json #path is relative to BASE_PATH in setup_path.py

qc:
    # skip: True
    min_genes: 10
    min_cells: 10

preprocessing:
    # skip: True
    normalize: True
    target_sum: 10000
    apply_log1p: True

hvg:
    batch_key: batch
    n_top_genes: 4096
    flavor: seurat # expect logarithmized data
    
embedding:
    method: geneformer
    module: features.gf_extractor
    class: GeneformerExtractor
    viz: True
    eval: True
    params: 
        #1- Genefromer 1
        # model: Geneformer-V1-10M 
        # version: V1
        # model_dir: /home/jupyter/MODELS/Geneformer/
        # dict_dir: /home/jupyter/MODELS/Geneformer/geneformer/gene_dictionaries_30m #genefromer 1
        # input_size: 2048
        # batch_size: 8
        
        # 2-Geneformer 1 (LARGE)
#         model: gf-12L-30M-i2048 
#         model_dir: /home/jupyter/Geneformer2/Geneformer
#         dict_dir: /home/jupyter/Geneformer2/dicts1 #genefromer 1
#         input_size: 2048
        
        # 3-Geneformer 2
        # model: Geneformer-V2-104M
        # version: V2
        # model_dir: /home/jupyter/MODELS/Geneformer
        # dict_dir: /home/jupyter/MODELS/Geneformer/geneformer #genefromer 2
        # input_size: 4096

#         # 4-Geneformer 2 (cancer)
        model: Geneformer-V2-104M_CLcancer
        version: V2
        model_dir: /home/jupyter/MODELS/Geneformer
        dict_dir: /home/jupyter/MODELS/Geneformer/geneformer #genefromer 2
        input_size: 4096
        # batch_size: 8

classification:
    module: models.classify
    class: ClassifierPipeline
    params:
        model: randomforest
        n_estimators: 100
        max_depth: 5
        cv: True
        label_map:
              NE: 0
              E: 1
    viz: True
    eval: True

